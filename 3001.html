<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" href="style.css"/>
  
 <script>
  function laga(){
    var num = Math.round(document.getElementById('hosu').value);
    if(num == 3000){
      document.getElementById('ee').innerHTML = num + "호(사격지휘장갑차)";
      document.getElementById('ee').value = num;  
      return num;
    }if(num == 3001 || num == 3002 || num == 3003 || num == 3005 || num == 3006 || num == 3007){
      document.getElementById('ee').innerHTML = num + "호(화포)";
      document.getElementById('ee').value = num;  
      return num;
    }if(num == 3100 || num == 3200 || num == 3300){
      document.getElementById('ee').innerHTML = num + "호(탄약운반장갑차)";
      document.getElementById('ee').value = num;  
      return num;
    }else{
      alert("입력된 화포를 찾을 수 없습니다. \n 다시 입력해주십쇼. 입력 예.)3xxx");  
    }
       
  }
  
  function check(){
    var ch = document.getElementById('ee').value;
    if(ch != undefined){
      document.getElementById('lastGage_number').innerHTML = "["+ch+ "호 라스트 게이지]";
      return ch;
    }else{
      return false;
    }
  }
  function getChosenDay(){
    let num = document.getElementById('ee').value;  
    var date = new Date(document.getElementById('today').value);
    var year = date.getFullYear();
    var month = 1 + date.getMonth();
    var day = date.getDate();
    
    if (month < 10){
    month = "0"+month;    
    }
    if (day < 10){
    day = "0"+day;
    }
    
    if(Number.isNaN(year)==false && num!=undefined){
      document.getElementById('chosen_day').innerHTML = "Day : "+year+"-"+month+"-"+day;
      return year+"-"+month+"-"+day;
    }else if(Number.isNaN(year)==true && num!=undefined){
      alert("날짜를 선택해주세요!");
      return false;
    }else if(Number.isNaN(year)==false && num==undefined){
      alert("화포가 입력 되어있지 않습니다. 화포 호수를 입력 후 입력을 눌러주세요.");
      return false;
    }else{
      alert("날짜와 화포 호수를 입력해주세요!");
      return false;
    }
  }
  function edit_laga(){
    var link_laga = document.getElementById('ee').value+".html";
    if(document.getElementById('ee').value != undefined){
      document.getElementById('ss').innerHTML = link_laga;
      return link_laga;
    }else{
      alert("화포 호수와 날짜를 입력해주세요.");
      return '#';
    }
  }
  function save_laga(){
    var save_to = document.getElementById('ee').value+".html";
    if(document.getElementById('ee').value != undefined){
      return save_to;
    }else{
      alert("화포 호수와 날짜를 입력해주세요.");
      return '#';
    }
  }
  //각각 라게 항목들 데이터 저장하기
  var upRpm;
  var totalRpm=0; 

  function putRpm(){
    var changedRpm = Number(document.getElementById('rpm_edit').value);
    var stackRpm = Number(document.getElementById('org_rpm_edit').value);
    
    document.getElementById('rpm').innerHTML = changedRpm;
    document.getElementById('org_rpm').innerHTML = (this.totalRpm + changedRpm).toFixed(1);
    this.upRpm = changedRpm;
    this.totalRpm = this.totalRpm + changedRpm;
    return changedRpm, totalRpm;
  }
  </script>
</head>

<body>
  <h1>
  <a id="header" href=index.html">주간장비정검 </a>
  </h1>
  <div id="info_number">
    <label>화포 호수를 입력하세요.</label><br>
    <input type="number" id="hosu">
    <button onclick="laga(),check()">입력</button>
  </div>  
  
  <h2 id="ee">3001호(화포)</h2>	
  
  <button type="submit" id="edit_button" onclick="location.href='lastgage.html'">저장</button>

  <div id="lastGage">
    <h3 id="lastGage_number"></h3>
    <div class="lastGage_list">
      <label>날짜</label>
      <input type="date" id="today"> <button type="button" >조회</button>
      <p id="day"></p>
      
      <h4>-rpm-</h4>
      <label id="rpm" sytle="width:10px"><script>document.write(this.upRpm);</script></label>
      <input type="number" id="rpm_edit" size=10/ min="0.0999">
      <label id="org_rpm"><script>document.write(this.totalRpm);</script></label>
      <input type="number" id="org_rpm_edit" size=30/>
      <button type="button" onclick="putRpm()">저장</button>

      <h4>-km-</h4>
      <label id="km">증가한km에요</label>
      <input type="number" id="km_edit" size=10>
      <label id="org_km">누적km에요</label>
      <input type="number" id="org_km_edit" size=10/>  
      <button type="button" onclick="">저장</button>        

      <h4>-APU-</h4>
      <label id="apu">증가한apu에요</label>
      <input type="number" id="apu_edit" size=10>
      <label id="org_apu">누적apu에요</label> 
      <input type="number" id="org_apu_edit" size=10>
      <button type="button" onclick="">저장</button>
   
    </div>
  </div>
   
</body>
</html>
